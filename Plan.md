# План автоматизированного тестирования

22.03.2024

### Объект тестирования

Туристический сервис по [адресу](http://localhost:8080/).
Приложение имеет свою СУБД и интеграцию с банковскими сервисами.

Доступен в основных браузерах: Google Chrome, Firefox, Safari.

Операционные системы: Windows, MacOS, Linux.

### Тестируемая функциональность

Оформление тура по фиксированной цене с оплатой двумя способами:

- оплата дебетовой картой (заполнение и отправка формы оплаты)
- оплата за счет кредита, оформляемого по данным дебетовой карты (заполнение и отправка формы оплаты)

### Перечень автоматизируемых сценариев

#### А. Сценарии оплаты дебетовой картой

_Элементы страницы тура:_

- Кнопка "Купить" (первый элемент с тегом button)
- Заголовок формы "Оплата по карте" (h3)
- Поле "Номер карты" (элемент input[placeholder="0000 0000 0000 0000"])
- Поле "Месяц" (элемент input[placeholder="08"])
- Поле "Год" (элемент input[placeholder="22"])
- Поле "Владелец" (элемент с вложенным тегом input, содержит текст "Владелец")
- Поле "CVC/CVV" (элемент input[placeholder="999"])
- Кнопка "Продолжить" (второй элемент button.button_view_extra)
- Окно с подтверждением успешной операции перевода (элемент div.notification_status_ok, содержит текст "Успешно Операция одобрена Банком.")
- Окно с сообщением об отклоненной операции перевода (элемент div.notification_status_error, содержит текст "Ошибка! Банк отказал в проведении операции.")

#### Позитивные UI-тесты

1. _Заполнение формы допустимыми значениями с номером карты 1111 2222 3333 4444_

- поле "Номер карты": 1111 2222 3333 4444
- поле "Месяц": 09
- поле "Год": 25
- поле "Владелец": Maxim
- поле "CVC/CVV": 478
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Появляется всплывающее окно с сообщением: "Успешно Операция одобрена Банком.". Поля в форме становятся пустыми.

2. _Заполнение формы допустимыми значениями с номером карты 5555 6666 7777 8888_

- поле "Номер карты": 5555 6666 7777 8888
- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продложить"

_Ожидаемый результат:_
Появляется всплывающее окно с сообщением: "Ошибка! Банк отказал в проведении операции.".

#### Негативные UI-тесты:

1. _Иной номер карты (кроме 1111 2222 3333 4444 и  5555 6666 7777 8888)_
- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Появляется всплывающее окно с сообщением: "Ошибка! Банк отказал в проведении операции.".

2. _Номер карты без одного символа 1111 2222 3333 444_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Номер карты" появляется предупреждение: "Неверный формат".

3. _Незаполненное поле "Номер карты"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Номер карты" появляется предупреждение: "Неверный формат".

4. _Незаполненное поле "Месяц"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Месяц" появляется предупреждение: "Неверный формат".

5. _Указать 0 в поле "Месяц"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Месяц" появляется предупреждение: "Неверный формат".

6. _Указать 00 в поле "Месяц"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Месяц" появляется предупреждение: "Неверный формат".

7. _Указать 13 в поле "Месяц"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Месяц" появляется предупреждение: "Неверный формат".

8. _Незаполненное поле "Год"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Год" появляется предупреждение: "Неверный формат".

9. _Указать 23 в поле "Год"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Год" появляется предупреждение: "Истек срок действия карты".

10. _Указать 02 в поле "Месяц", 24 в поле "Год"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Месяц" появляется предупреждение: "Истек срок действия карты".

11. _Указать 30 в поле "Год"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Год" появляется предупреждение: "Неверно указан срок действия карты".

12. _Незаполненное поле "Владелец"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Владелец" появляется предупреждение: "Поле обязательно для заполнения".

13. _Указать 0 в поле "Владелец"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Владелец" появляется предупреждение: "Неверный формат".

14. _Указать спецсимволы в поле "Владелец"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Владелец" появляется предупреждение: "Неверный формат".

15. _Указать имя кириллицей Антон в поле "Владелец"

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "Владелец" появляется предупреждение: "Неверный формат".

16. _Незаполненное поле "CVC/CVV"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "CVC/CVV" появляется предупреждение: "Поле обязательно для заполнения".

17. _Указать 0 в поле "CVC/CVV"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "CVC/CVV" появляется предупреждение: "Неверный формат".

18. _Указать 000 в поле "CVC/CVV"_

- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Под полем "CVC/CVV" появляется предупреждение: "Неверный формат".

#### Запросы в базу данных

1. Проверка статуса операции
2. Проверка корректного внесения информации - идентификатор транзакции - в таблицу payment_entity
3. Проверка корректного внесения информации - идентификатор транзакции - в таблицу order_entity

#### Тестирование API

1. Отправка заполненной формы оплаты дебетовой картой (допустимые значения, карта 1111 2222 3333 4444)
2. Отправка заполненной формы оплаты дебетовой картой (допустимые значения, карта 5555 6666 7777 8888)


#### Б. Сценарии оплаты за счет кредита

_Элементы страницы тура:_

- Кнопка "Купить в кредит" (первый элемент button.button_view_extra)
- Заголовок формы "Кредит по данным карты" (h3)
- Поле "Номер карты" (элемент input[placeholder="0000 0000 0000 0000"])
- Поле "Месяц" (элемент input[placeholder="08"])
- Поле "Год" (элемент input[placeholder="22"])
- Поле "Владелец" (элемент с вложенным тегом input, содержит текст "Владелец")
- Поле "CVC/CVV" (элемент input[placeholder="999"])
- Кнопка "Продолжить" (второй элемент button.button_view_extra)
- Окно с подтверждением успешной операции перевода (элемент div.notification_status_ok, содержит текст "Успешно Операция одобрена Банком.")
- Окно с сообщением об отклоненной операции перевода (элемент div.notification_status_error, содержит текст "Ошибка! Банк отказал в проведении операции.")

#### Позитивные UI-тесты

1. _Заполнение формы допустимыми значениями с номером карты 1111 2222 3333 4444_

- поле "Номер карты": 1111 2222 3333 4444
- поле "Месяц": 09
- поле "Год": 25
- поле "Владелец": Leonid
- поле "CVC/CVV": 478
- нажать на кнопку "Продолжить"

_Ожидаемый результат:_
Появляется всплывающее окно с сообщением: "Успешно Операция одобрена Банком.". Поля в форме становятся пустыми.

2. _Заполнение формы допустимыми значениями с номером карты 5555 6666 7777 8888_

- поле "Номер карты": 5555 6666 7777 8888
- остальные поля заполнить допустимыми значениями
- нажать на кнопку "Продложить"

_Ожидаемый результат:_
Появляется всплывающее окно с сообщением: "Ошибка! Банк отказал в проведении операции.".

#### Запросы в базу данных

1. Проверка статуса операции
2. Проверка корректного внесения информации - идентификатор транзакции - в таблицу credit_request_entity
3. Проверка корректного внесения информации - идентификатор транзакции - в таблицу order_entity


### Инструменты автоматизации тестирования

Для сборки проекта рекомендуется использовать фреймворк _**gradle**_.

Импортируемые в конфигурацию build.gradle зависимости:

- _**JUnit5**_ (фреймворк для реализации автотестов на Java)
- _**Selenide**_ (тестирование элементов пользовательского интерфейса)
- _**Faker**_ (генерация тестовых данных)
- _**Rest-Assured**_ (API-тестирование, отправка формы)
- _**Docker / Docker Compose**_ (контейнеризация для тестирования данных в СУБД)
- _**Allure**_ (генерация отчетности о проведенном тестировании): рекомендуется в качестве альтернативы инструменту Gradle - Allure более информативен с хорошей визуализацией результатов автотестов, а также инструменту ReportPortal - Allure менее ресурсозатратен. 


### Возможные риски при автоматизации

- может измениться дизайн веб-сайта и в этой связи могут исчезнуть или измениться элементы, используемые в автотестах --> необходимо вовремя актуализировать тесты
- сложность автоматизации, например, при отсутствии тестовых меток в коде
- недооценивание времени и усилий, которые потребуются для внедрения тестовых инструментов, реализации и отладки тестов, подготовки отчетности
- медленная работа и возможные сбои в работе локальной машины (по опыту работы с инструментами контейнеризации)


### Оценка необходимых ресурсов для реализации автотестов

_Специалисты:_ 1 тестировщик-автоматизатор

_Сроки выполнения_ (подготовка тестового окружения, написание, отладка и реализация автотестов, подготовка отчетности, заведение багов в issues):

**40** часов

**Сдача работ до 02.04.2024**



















